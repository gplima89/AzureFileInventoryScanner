{
    "properties": {
        "dataCollectionEndpointId": "/subscriptions/<Subscription-ID>/resourceGroups/<Resource-Group>/providers/Microsoft.Insights/dataCollectionEndpoints/<DCE-Name>",
        "streamDeclarations": {
            "Custom-<Table-Name>_CL": {
                "columns": [
                    {"name": "TimeGenerated", "type": "datetime"},
                    {"name": "StorageAccount", "type": "string"},
                    {"name": "FileShare", "type": "string"},
                    {"name": "FilePath", "type": "string"},
                    {"name": "FileName", "type": "string"},
                    {"name": "FileExtension", "type": "string"},
                    {"name": "FileSizeBytes", "type": "long"},
                    {"name": "FileSizeMB", "type": "real"},
                    {"name": "FileSizeGB", "type": "real"},
                    {"name": "LastModified", "type": "datetime"},
                    {"name": "Created", "type": "datetime"},
                    {"name": "AgeInDays", "type": "int"},
                    {"name": "FileHash", "type": "string"},
                    {"name": "IsDuplicate", "type": "string"},
                    {"name": "DuplicateCount", "type": "int"},
                    {"name": "DuplicateGroupId", "type": "string"},
                    {"name": "FileCategory", "type": "string"},
                    {"name": "AgeBucket", "type": "string"},
                    {"name": "SizeBucket", "type": "string"},
                    {"name": "ScanTimestamp", "type": "string"},
                    {"name": "ExecutionId", "type": "string"}
                ]
            }
        },
        "destinations": {
            "logAnalytics": [
                {
                    "workspaceResourceId": "/subscriptions/<Subscription-ID>/resourceGroups/<Resource-Group>/providers/Microsoft.OperationalInsights/workspaces/<Workspace-Name>",
                    "name": "logAnalyticsDestination"
                }
            ]
        },
        "dataFlows": [
            {
                "streams": ["Custom-<Table-Name>_CL"],
                "destinations": ["logAnalyticsDestination"],
                "transformKql": "source | project TimeGenerated, StorageAccount, FileShare, FilePath, FileName, FileExtension, FileSizeBytes, FileSizeMB, FileSizeGB, LastModified, Created, AgeInDays, FileHash, IsDuplicate, DuplicateCount, DuplicateGroupId, FileCategory, AgeBucket, SizeBucket, ScanTimestamp, ExecutionId",
                "outputStream": "Custom-<Table-Name>_CL"
            }
        ]
    }
}
